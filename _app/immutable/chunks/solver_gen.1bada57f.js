import{s as le,h as $,r as Ce,b as Q,n as be,k as Y,l as oe,d as me,u as he,g as _e,e as ge,m as tt,j as re}from"./scheduler.858dac91.js";import{S as ne,i as ie,g as M,s as O,m as ve,h as L,j as V,x as Z,c as T,n as ke,f as y,k as b,l as x,a as N,y as k,C as se,z as H,o as Me,D as ce,d as w,p as ee,t as z,b as te,r as W,u as X,v as J,w as K,A as Ke,e as De,B as fe}from"./index.258ec88e.js";import{e as ye}from"./each.e59479a4.js";import{w as lt}from"./index.d4392256.js";import{w as nt}from"./stores.de040ef6.js";function Qe(l,e){const i={},t={},n={$$scope:1};let s=l.length;for(;s--;){const o=l[s],r=e[s];if(r){for(const f in o)f in r||(t[f]=1);for(const f in r)n[f]||(i[f]=r[f],n[f]=1);l[s]=r}else for(const f in o)n[f]=1}for(const o in t)o in i||(i[o]=void 0);return i}function Ye(l){return typeof l=="object"&&l!==null?l:{}}function it(l){let e,i,t,n="code length",s,o,r,f,a,u,d,p,h,g,m,c="base",I,E,A,P;return{c(){e=M("div"),i=M("div"),t=M("label"),t.textContent=n,s=O(),o=M("div"),r=M("input"),f=O(),a=M("p"),u=ve(l[0]),d=O(),p=M("hr"),h=O(),g=M("div"),m=M("label"),m.textContent=c,I=O(),E=M("input"),this.h()},l(S){e=L(S,"DIV",{class:!0});var R=V(e);i=L(R,"DIV",{class:!0});var U=V(i);t=L(U,"LABEL",{for:!0,style:!0,class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-wgfsn5"&&(t.textContent=n),s=T(U),o=L(U,"DIV",{class:!0});var _=V(o);r=L(_,"INPUT",{id:!0,type:!0,name:!0,min:!0,max:!0}),f=T(_),a=L(_,"P",{});var v=V(a);u=ke(v,l[0]),v.forEach(y),_.forEach(y),U.forEach(y),d=T(R),p=L(R,"HR",{class:!0}),h=T(R),g=L(R,"DIV",{class:!0});var F=V(g);m=L(F,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Z(m)!=="svelte-f24ihi"&&(m.textContent=c),I=T(F),E=L(F,"INPUT",{id:!0,type:!0,min:!0,max:!0,style:!0}),F.forEach(y),R.forEach(y),this.h()},h(){b(t,"for","codeLength"),x(t,"text-align","left"),b(t,"class","svelte-1p37nvj"),b(r,"id","codeLength"),b(r,"type","range"),b(r,"name","codeLength"),b(r,"min","3"),b(r,"max","6"),b(o,"class","flex center space-between"),b(i,"class","flex center space-between svelte-1p37nvj"),b(p,"class","svelte-1p37nvj"),b(m,"for","base"),b(m,"class","svelte-1p37nvj"),b(E,"id","base"),b(E,"type","number"),b(E,"min","3"),b(E,"max","36"),x(E,"width","3rem"),b(g,"class","flex center space-between svelte-1p37nvj"),b(e,"class","controls svelte-1p37nvj")},m(S,R){N(S,e,R),k(e,i),k(i,t),k(i,s),k(i,o),k(o,r),se(r,l[0]),k(o,f),k(o,a),k(a,u),k(e,d),k(e,p),k(e,h),k(e,g),k(g,m),k(g,I),k(g,E),se(E,l[1]),A||(P=[H(r,"change",l[2]),H(r,"input",l[2]),H(E,"input",l[3])],A=!0)},p(S,[R]){R&1&&se(r,S[0]),R&1&&Me(u,S[0]),R&2&&ce(E.value)!==S[1]&&se(E,S[1])},i:$,o:$,d(S){S&&y(e),A=!1,Ce(P)}}}function st(l,e,i){let{codeLength:t,base:n}=e;function s(){t=ce(this.value),i(0,t)}function o(){n=ce(this.value),i(1,n)}return l.$$set=r=>{"codeLength"in r&&i(0,t=r.codeLength),"base"in r&&i(1,n=r.base)},[t,n,s,o]}class ot extends ne{constructor(e){super(),ie(this,e,st,it,le,{codeLength:0,base:1})}}function rt(l){if(!l.length)return;const e=l.split(/\s/).filter(t=>t.length),i=[];for(;e.length;){const t={code:e.shift().split("").map(Math.floor),included:Math.floor(e.shift()),sorted:Math.floor(e.shift())};i.push(t)}return i}function ft(l){if(l.length)return l.map(e=>`${e.code.join("")} ${e.included} ${e.sorted}
`).join("")}function Ve(l){let e,i="import",t,n,s,o;return{c(){e=M("button"),e.textContent=i,t=O(),n=M("input"),this.h()},l(r){e=L(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1239hf0"&&(e.textContent=i),t=T(r),n=L(r,"INPUT",{style:!0,type:!0,name:!0,id:!0,class:!0}),this.h()},h(){b(e,"class","svelte-tqwhnu"),x(n,"display","none"),b(n,"type","file"),b(n,"name","file"),b(n,"id","fileInput"),b(n,"class","svelte-tqwhnu")},m(r,f){N(r,e,f),N(r,t,f),N(r,n,f),l[8](n),s||(o=[H(e,"click",l[7]),H(n,"change",l[3])],s=!0)},p:$,d(r){r&&(y(e),y(t),y(n)),l[8](null),s=!1,Ce(o)}}}function Ne(l){let e,i="export",t,n,s,o;return{c(){e=M("button"),e.textContent=i,t=O(),n=M("a"),this.h()},l(r){e=L(r,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1y72hyi"&&(e.textContent=i),t=T(r),n=L(r,"A",{style:!0,class:!0}),V(n).forEach(y),this.h()},h(){b(e,"class","svelte-tqwhnu"),x(n,"display","none"),b(n,"class","svelte-tqwhnu")},m(r,f){N(r,e,f),N(r,t,f),N(r,n,f),l[9](n),s||(o=H(e,"click",l[4]),s=!0)},p:$,d(r){r&&(y(e),y(t),y(n)),l[9](null),s=!1,o()}}}function ut(l){let e,i,t=l[0].import&&Ve(l),n=l[0].export&&Ne(l);return{c(){e=M("div"),t&&t.c(),i=O(),n&&n.c(),this.h()},l(s){e=L(s,"DIV",{class:!0});var o=V(e);t&&t.l(o),i=T(o),n&&n.l(o),o.forEach(y),this.h()},h(){b(e,"class","bigbox flex center svelte-tqwhnu")},m(s,o){N(s,e,o),t&&t.m(e,null),k(e,i),n&&n.m(e,null)},p(s,[o]){s[0].import?t?t.p(s,o):(t=Ve(s),t.c(),t.m(e,i)):t&&(t.d(1),t=null),s[0].export?n?n.p(s,o):(n=Ne(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:$,o:$,d(s){s&&y(e),t&&t.d(),n&&n.d()}}}function dt(l,e,i){let{options:t={import:!1,export:!1},riddle:n,onimport:s=()=>{}}=e,o,r;function f(h){o.files[0].text().then(g=>{s(rt(g))}),i(1,o.value="",o)}function a(h){i(2,r.href="data:text/plain;charset=utf-8,"+ft(n),r),i(2,r.download=new Date().toString(),r),r.click()}const u=()=>o.click();function d(h){Q[h?"unshift":"push"](()=>{o=h,i(1,o)})}function p(h){Q[h?"unshift":"push"](()=>{r=h,i(2,r)})}return l.$$set=h=>{"options"in h&&i(0,t=h.options),"riddle"in h&&i(5,n=h.riddle),"onimport"in h&&i(6,s=h.onimport)},[t,o,r,f,a,n,s,u,d,p]}class at extends ne{constructor(e){super(),ie(this,e,dt,ut,le,{options:0,riddle:5,onimport:6})}}function ct(l){let e,i,t,n;return{c(){e=M("input"),this.h()},l(s){e=L(s,"INPUT",{class:!0,type:!0,min:!0,max:!0}),this.h()},h(){b(e,"class",i=be(l[3].class)+" svelte-1w4vbzd"),e.disabled=l[1],b(e,"type","number"),b(e,"min","0"),b(e,"max",l[2])},m(s,o){N(s,e,o),se(e,l[0]),t||(n=[H(e,"focus",mt),H(e,"input",l[4])],t=!0)},p(s,[o]){o&8&&i!==(i=be(s[3].class)+" svelte-1w4vbzd")&&b(e,"class",i),o&2&&(e.disabled=s[1]),o&4&&b(e,"max",s[2]),o&1&&ce(e.value)!==s[0]&&se(e,s[0])},i:$,o:$,d(s){s&&y(e),t=!1,Ce(n)}}}const mt=l=>l.target.select();function ht(l,e,i){let{value:t,disabled:n,max:s}=e;function o(){t=ce(this.value),i(0,t)}return l.$$set=r=>{i(3,e=Y(Y({},e),oe(r))),"value"in r&&i(0,t=r.value),"disabled"in r&&i(1,n=r.disabled),"max"in r&&i(2,s=r.max)},e=oe(e),[t,n,s,e,o]}class Le extends ne{constructor(e){super(),ie(this,e,ht,ct,le,{value:0,disabled:1,max:2})}}function Re(l){let e;const i=l[5].default,t=me(i,l,l[4],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&16)&&he(t,i,n,n[4],e?ge(i,n[4],s,null):_e(n[4]),null)},i(n){e||(w(t,n),e=!0)},o(n){z(t,n),e=!1},d(n){t&&t.d(n)}}}function _t(l){let e,i,t,n,s,o,r,f,a,u=!l[2]&&Re(l);return{c(){e=M("div"),i=M("button"),t=ve("^"),o=O(),u&&u.c(),this.h()},l(d){e=L(d,"DIV",{class:!0,style:!0});var p=V(e);i=L(p,"BUTTON",{class:!0,style:!0});var h=V(i);t=ke(h,"^"),h.forEach(y),o=T(p),u&&u.l(p),p.forEach(y),this.h()},h(){b(i,"class",n=be("min-button "+(l[2]?"minimized":""))+" svelte-19wplmj"),b(i,"style",s=`display: ${l[1]?"initial":"none"}`),b(e,"class","sticky flex column center svelte-19wplmj"),b(e,"style",l[0])},m(d,p){N(d,e,p),k(e,i),k(i,t),k(e,o),u&&u.m(e,null),r=!0,f||(a=H(i,"click",l[3]),f=!0)},p(d,[p]){(!r||p&4&&n!==(n=be("min-button "+(d[2]?"minimized":""))+" svelte-19wplmj"))&&b(i,"class",n),(!r||p&2&&s!==(s=`display: ${d[1]?"initial":"none"}`))&&b(i,"style",s),d[2]?u&&(ee(),z(u,1,1,()=>{u=null}),te()):u?(u.p(d,p),p&4&&w(u,1)):(u=Re(d),u.c(),w(u,1),u.m(e,null)),(!r||p&1)&&b(e,"style",d[0])},i(d){r||(w(u),r=!0)},o(d){z(u),r=!1},d(d){d&&y(e),u&&u.d(),f=!1,a()}}}function gt(l,e,i){let{$$slots:t={},$$scope:n}=e,{style:s="",minimizable:o=!1}=e,r=!1;function f(a){i(2,r=!r)}return l.$$set=a=>{"style"in a&&i(0,s=a.style),"minimizable"in a&&i(1,o=a.minimizable),"$$scope"in a&&i(4,n=a.$$scope)},[s,o,r,f,n,t]}class Ze extends ne{constructor(e){super(),ie(this,e,gt,_t,le,{style:0,minimizable:1})}}function pt(l){let e;const i=l[1].default,t=me(i,l,l[2],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&4)&&he(t,i,n,n[2],e?ge(i,n[2],s,null):_e(n[2]),null)},i(n){e||(w(t,n),e=!0)},o(n){z(t,n),e=!1},d(n){t&&t.d(n)}}}function bt(l){let e,i;const t=[{style:"top: 0; padding-top: 0; background-color: black;"},l[0]];let n={$$slots:{default:[pt]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)n=Y(n,t[s]);return e=new Ze({props:n}),{c(){W(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,o){J(e,s,o),i=!0},p(s,[o]){const r=o&1?Qe(t,[t[0],Ye(s[0])]):{};o&4&&(r.$$scope={dirty:o,ctx:s}),e.$set(r)},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){z(e.$$.fragment,s),i=!1},d(s){K(e,s)}}}function vt(l,e,i){let{$$slots:t={},$$scope:n}=e;return l.$$set=s=>{i(0,e=Y(Y({},e),oe(s))),"$$scope"in s&&i(2,n=s.$$scope)},e=oe(e),[e,t,n]}class kt extends ne{constructor(e){super(),ie(this,e,vt,bt,le,{})}}function yt(l){let e;const i=l[1].default,t=me(i,l,l[2],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&4)&&he(t,i,n,n[2],e?ge(i,n[2],s,null):_e(n[2]),null)},i(n){e||(w(t,n),e=!0)},o(n){z(t,n),e=!1},d(n){t&&t.d(n)}}}function wt(l){let e,i;const t=[{style:"bottom: 0; padding-bottom: 0;"},l[0]];let n={$$slots:{default:[yt]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)n=Y(n,t[s]);return e=new Ze({props:n}),{c(){W(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,o){J(e,s,o),i=!0},p(s,[o]){const r=o&1?Qe(t,[t[0],Ye(s[0])]):{};o&4&&(r.$$scope={dirty:o,ctx:s}),e.$set(r)},i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){z(e.$$.fragment,s),i=!1},d(s){K(e,s)}}}function Et(l,e,i){let{$$slots:t={},$$scope:n}=e;return l.$$set=s=>{i(0,e=Y(Y({},e),oe(s))),"$$scope"in s&&i(2,n=s.$$scope)},e=oe(e),[e,t,n]}class Mt extends ne{constructor(e){super(),ie(this,e,Et,wt,le,{})}}const Lt=l=>({}),Se=l=>({});function Be(l,e,i){const t=l.slice();return t[21]=e[i],t[22]=e,t[23]=i,t}function Ae(l,e,i){const t=l.slice();return t[24]=e[i],t[25]=e,t[26]=i,t}const Ct=l=>({}),Ue=l=>({});function qe(l){let e,i='<div class="flex center mobile-inst space-between svelte-xx13zo"><p>incl</p><p>=</p><p class="included svelte-xx13zo">included</p></div> <div class="flex center mobile-inst space-between svelte-xx13zo"><p>sort</p><p>=</p><p class="sorted svelte-xx13zo">sorted</p></div>';return{c(){e=M("div"),e.innerHTML=i,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-t6ue9k"&&(e.innerHTML=i),this.h()},h(){b(e,"class","mobile-inst-box svelte-xx13zo")},m(t,n){N(t,e,n)},d(t){t&&y(e)}}}function He(l){let e,i,t;function n(o){l[13](o)}let s={options:l[3]?l[7]:l[5],onimport:l[10]};return l[1]!==void 0&&(s.riddle=l[1]),e=new at({props:s}),Q.push(()=>fe(e,"riddle",n)),{c(){W(e.$$.fragment)},l(o){X(e.$$.fragment,o)},m(o,r){J(e,o,r),t=!0},p(o,r){const f={};r&40&&(f.options=o[3]?o[7]:o[5]),!i&&r&2&&(i=!0,f.riddle=o[1],re(()=>i=!1)),e.$set(f)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){z(e.$$.fragment,o),t=!1},d(o){K(e,o)}}}function Pe(l){let e,i,t,n;function s(f){l[14](f)}function o(f){l[15](f)}let r={};return l[0]!==void 0&&(r.codeLength=l[0]),l[2]!==void 0&&(r.base=l[2]),e=new ot({props:r}),Q.push(()=>fe(e,"codeLength",s)),Q.push(()=>fe(e,"base",o)),{c(){W(e.$$.fragment)},l(f){X(e.$$.fragment,f)},m(f,a){J(e,f,a),n=!0},p(f,a){const u={};!i&&a&1&&(i=!0,u.codeLength=f[0],re(()=>i=!1)),!t&&a&4&&(t=!0,u.base=f[2],re(()=>t=!1)),e.$set(u)},i(f){n||(w(e.$$.fragment,f),n=!0)},o(f){z(e.$$.fragment,f),n=!1},d(f){K(e,f)}}}function Fe(l){let e;const i=l[12].header,t=me(i,l,l[20],Ue);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&1048576)&&he(t,i,n,n[20],e?ge(i,n[20],s,Ct):_e(n[20]),Ue)},i(n){e||(w(t,n),e=!0)},o(n){z(t,n),e=!1},d(n){t&&t.d(n)}}}function It(l){let e,i,t,n,s,o=l[6]&&qe(),r=(l[3]||l[5])&&He(l),f=(l[4]||l[3])&&Pe(l),a=l[11].header&&Fe(l);return{c(){o&&o.c(),e=O(),r&&r.c(),i=O(),f&&f.c(),t=O(),a&&a.c(),n=De()},l(u){o&&o.l(u),e=T(u),r&&r.l(u),i=T(u),f&&f.l(u),t=T(u),a&&a.l(u),n=De()},m(u,d){o&&o.m(u,d),N(u,e,d),r&&r.m(u,d),N(u,i,d),f&&f.m(u,d),N(u,t,d),a&&a.m(u,d),N(u,n,d),s=!0},p(u,d){u[6]?o||(o=qe(),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),u[3]||u[5]?r?(r.p(u,d),d&40&&w(r,1)):(r=He(u),r.c(),w(r,1),r.m(i.parentNode,i)):r&&(ee(),z(r,1,1,()=>{r=null}),te()),u[4]||u[3]?f?(f.p(u,d),d&24&&w(f,1)):(f=Pe(u),f.c(),w(f,1),f.m(t.parentNode,t)):f&&(ee(),z(f,1,1,()=>{f=null}),te()),u[11].header?a?(a.p(u,d),d&2048&&w(a,1)):(a=Fe(u),a.c(),w(a,1),a.m(n.parentNode,n)):a&&(ee(),z(a,1,1,()=>{a=null}),te())},i(u){s||(w(r),w(f),w(a),s=!0)},o(u){z(r),z(f),z(a),s=!1},d(u){u&&(y(e),y(i),y(t),y(n)),o&&o.d(u),r&&r.d(u),f&&f.d(u),a&&a.d(u)}}}function Ge(l){let e,i,t;function n(o){l[16](o,l[24],l[25],l[26])}let s={max:l[2]-1,disabled:!l[3]};return l[24]!==void 0&&(s.value=l[24]),e=new Le({props:s}),Q.push(()=>fe(e,"value",n)),{c(){W(e.$$.fragment)},l(o){X(e.$$.fragment,o)},m(o,r){J(e,o,r),t=!0},p(o,r){l=o;const f={};r&4&&(f.max=l[2]-1),r&8&&(f.disabled=!l[3]),!i&&r&2&&(i=!0,f.value=l[24],re(()=>i=!1)),e.$set(f)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){z(e.$$.fragment,o),t=!1},d(o){K(e,o)}}}function $e(l){let e,i="x",t,n;function s(){return l[19](l[23])}return{c(){e=M("button"),e.textContent=i,this.h()},l(o){e=L(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1w4m1lm"&&(e.textContent=i),this.h()},h(){b(e,"class","delete-button svelte-xx13zo")},m(o,r){N(o,e,r),t||(n=H(e,"click",s),t=!0)},p(o,r){l=o},d(o){o&&y(e),t=!1,n()}}}function We(l){let e,i,t,n,s,o,r,f,a,u,d=l[6]?"incl":"included",p,h,g,m,c,I,E,A,P=l[6]?"sort":"sorted",S,R,U,_=ye(l[21].code),v=[];for(let C=0;C<_.length;C+=1)v[C]=Ge(Ae(l,_,C));const F=C=>z(v[C],1,1,()=>{v[C]=null});function ue(C){l[17](C,l[21])}let Ie={disabled:!l[3],max:l[0]};l[21].included!==void 0&&(Ie.value=l[21].included),r=new Le({props:Ie}),Q.push(()=>fe(r,"value",ue));function et(C){l[18](C,l[21])}let je={disabled:!l[3],max:l[21].included};l[21].sorted!==void 0&&(je.value=l[21].sorted),c=new Le({props:je}),Q.push(()=>fe(c,"value",et));let B=l[3]&&$e(l);return{c(){e=M("div"),i=M("div");for(let C=0;C<v.length;C+=1)v[C].c();t=O(),n=M("div"),s=M("div"),o=M("div"),W(r.$$.fragment),a=O(),u=M("label"),p=ve(d),h=O(),g=M("div"),m=M("div"),W(c.$$.fragment),E=O(),A=M("label"),S=ve(P),R=O(),B&&B.c(),this.h()},l(C){e=L(C,"DIV",{class:!0,style:!0});var j=V(e);i=L(j,"DIV",{class:!0});var q=V(i);for(let we=0;we<v.length;we+=1)v[we].l(q);q.forEach(y),t=T(j),n=L(j,"DIV",{class:!0});var G=V(n);s=L(G,"DIV",{class:!0});var D=V(s);o=L(D,"DIV",{class:!0});var de=V(o);X(r.$$.fragment,de),de.forEach(y),a=T(D),u=L(D,"LABEL",{for:!0});var ze=V(u);p=ke(ze,d),ze.forEach(y),D.forEach(y),h=T(G),g=L(G,"DIV",{class:!0});var pe=V(g);m=L(pe,"DIV",{class:!0});var Oe=V(m);X(c.$$.fragment,Oe),Oe.forEach(y),E=T(pe),A=L(pe,"LABEL",{for:!0});var Te=V(A);S=ke(Te,P),Te.forEach(y),pe.forEach(y),G.forEach(y),R=T(j),B&&B.l(j),j.forEach(y),this.h()},h(){b(i,"class","code svelte-xx13zo"),b(o,"class","included svelte-xx13zo"),b(u,"for","included"),b(s,"class","flex column"),b(m,"class","sorted svelte-xx13zo"),b(A,"for","sorted"),b(g,"class","flex column"),b(n,"class","flex svelte-xx13zo"),b(e,"class","hint flex center svelte-xx13zo"),x(e,"align-items","flex-start")},m(C,j){N(C,e,j),k(e,i);for(let q=0;q<v.length;q+=1)v[q]&&v[q].m(i,null);k(e,t),k(e,n),k(n,s),k(s,o),J(r,o,null),k(s,a),k(s,u),k(u,p),k(n,h),k(n,g),k(g,m),J(c,m,null),k(g,E),k(g,A),k(A,S),k(e,R),B&&B.m(e,null),U=!0},p(C,j){if(l=C,j&14){_=ye(l[21].code);let D;for(D=0;D<_.length;D+=1){const de=Ae(l,_,D);v[D]?(v[D].p(de,j),w(v[D],1)):(v[D]=Ge(de),v[D].c(),w(v[D],1),v[D].m(i,null))}for(ee(),D=_.length;D<v.length;D+=1)F(D);te()}const q={};j&8&&(q.disabled=!l[3]),j&1&&(q.max=l[0]),!f&&j&2&&(f=!0,q.value=l[21].included,re(()=>f=!1)),r.$set(q),(!U||j&64)&&d!==(d=l[6]?"incl":"included")&&Me(p,d);const G={};j&8&&(G.disabled=!l[3]),j&2&&(G.max=l[21].included),!I&&j&2&&(I=!0,G.value=l[21].sorted,re(()=>I=!1)),c.$set(G),(!U||j&64)&&P!==(P=l[6]?"sort":"sorted")&&Me(S,P),l[3]?B?B.p(l,j):(B=$e(l),B.c(),B.m(e,null)):B&&(B.d(1),B=null)},i(C){if(!U){for(let j=0;j<_.length;j+=1)w(v[j]);w(r.$$.fragment,C),w(c.$$.fragment,C),U=!0}},o(C){v=v.filter(Boolean);for(let j=0;j<v.length;j+=1)z(v[j]);z(r.$$.fragment,C),z(c.$$.fragment,C),U=!1},d(C){C&&y(e),Ke(v,C),K(r),K(c),B&&B.d()}}}function Xe(l){let e,i="+",t,n;return{c(){e=M("button"),e.textContent=i,this.h()},l(s){e=L(s,"BUTTON",{id:!0,style:!0,"data-svelte-h":!0}),Z(e)!=="svelte-sxuadl"&&(e.textContent=i),this.h()},h(){b(e,"id","addButton"),x(e,"margin","1.5rem"),x(e,"padding",".2rem 1rem")},m(s,o){N(s,e,o),t||(n=H(e,"click",l[9]),t=!0)},p:$,d(s){s&&y(e),t=!1,n()}}}function Je(l){let e,i;return e=new Mt({props:{$$slots:{default:[jt]},$$scope:{ctx:l}}}),{c(){W(e.$$.fragment)},l(t){X(e.$$.fragment,t)},m(t,n){J(e,t,n),i=!0},p(t,n){const s={};n&1048576&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){i||(w(e.$$.fragment,t),i=!0)},o(t){z(e.$$.fragment,t),i=!1},d(t){K(e,t)}}}function jt(l){let e;const i=l[12].footer,t=me(i,l,l[20],Se);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&1048576)&&he(t,i,n,n[20],e?ge(i,n[20],s,Lt):_e(n[20]),Se)},i(n){e||(w(t,n),e=!0)},o(n){z(t,n),e=!1},d(n){t&&t.d(n)}}}function zt(l){let e,i,t,n,s="",o,r,f,a;i=new kt({props:{minimizable:!0,$$slots:{default:[It]},$$scope:{ctx:l}}});let u=ye(l[1]??[]),d=[];for(let m=0;m<u.length;m+=1)d[m]=We(Be(l,u,m));const p=m=>z(d[m],1,1,()=>{d[m]=null});let h=l[3]&&Xe(l),g=l[11].footer&&Je(l);return{c(){e=M("div"),W(i.$$.fragment),t=O(),n=M("div"),n.innerHTML=s,o=O();for(let m=0;m<d.length;m+=1)d[m].c();r=O(),h&&h.c(),f=O(),g&&g.c(),this.h()},l(m){e=L(m,"DIV",{class:!0});var c=V(e);X(i.$$.fragment,c),t=T(c),n=L(c,"DIV",{style:!0,"data-svelte-h":!0}),Z(n)!=="svelte-1kttkqm"&&(n.innerHTML=s),o=T(c);for(let I=0;I<d.length;I+=1)d[I].l(c);r=T(c),h&&h.l(c),f=T(c),g&&g.l(c),c.forEach(y),this.h()},h(){x(n,"margin","1rem"),b(e,"class","bigbox flex column center svelte-xx13zo")},m(m,c){N(m,e,c),J(i,e,null),k(e,t),k(e,n),k(e,o);for(let I=0;I<d.length;I+=1)d[I]&&d[I].m(e,null);k(e,r),h&&h.m(e,null),k(e,f),g&&g.m(e,null),a=!0},p(m,[c]){const I={};if(c&1050751&&(I.$$scope={dirty:c,ctx:m}),i.$set(I),c&335){u=ye(m[1]??[]);let E;for(E=0;E<u.length;E+=1){const A=Be(m,u,E);d[E]?(d[E].p(A,c),w(d[E],1)):(d[E]=We(A),d[E].c(),w(d[E],1),d[E].m(e,r))}for(ee(),E=u.length;E<d.length;E+=1)p(E);te()}m[3]?h?h.p(m,c):(h=Xe(m),h.c(),h.m(e,f)):h&&(h.d(1),h=null),m[11].footer?g?(g.p(m,c),c&2048&&w(g,1)):(g=Je(m),g.c(),w(g,1),g.m(e,null)):g&&(ee(),z(g,1,1,()=>{g=null}),te())},i(m){if(!a){w(i.$$.fragment,m);for(let c=0;c<u.length;c+=1)w(d[c]);w(g),a=!0}},o(m){z(i.$$.fragment,m),d=d.filter(Boolean);for(let c=0;c<d.length;c+=1)z(d[c]);z(g),a=!1},d(m){m&&y(e),K(i),Ke(d,m),h&&h.d(),g&&g.d()}}}function Ot(l,e,i){let{$$slots:t={},$$scope:n}=e;const s=tt(t);let{codeLength:o=3,riddle:r,contenteditable:f=!1,base:a=10,showControls:u=!1,fileSettings:d}=e;const p={import:!0,export:!0},h=lt(f?r||[{code:Array.from({length:o},()=>0),included:0,sorted:0}]:r);function g(){const _={code:Array.from({length:o},()=>0),included:0,sorted:0};h.update(v=>v.concat(_))}function m(_){i(0,o=_[0].code.length),h.set(_)}h.subscribe(_=>i(1,r=_));let c=!1;nt.subscribe(_=>{i(6,c=_.isMobile)});function I(_){r=_,i(1,r)}function E(_){o=_,i(0,o)}function A(_){a=_,i(2,a)}function P(_,v,F,ue){F[ue]=_,i(1,r)}function S(_,v){l.$$.not_equal(v.included,_)&&(v.included=_,i(1,r))}function R(_,v){l.$$.not_equal(v.sorted,_)&&(v.sorted=_,i(1,r))}const U=_=>{h.update(v=>r.filter((F,ue)=>ue!=_))};return l.$$set=_=>{"codeLength"in _&&i(0,o=_.codeLength),"riddle"in _&&i(1,r=_.riddle),"contenteditable"in _&&i(3,f=_.contenteditable),"base"in _&&i(2,a=_.base),"showControls"in _&&i(4,u=_.showControls),"fileSettings"in _&&i(5,d=_.fileSettings),"$$scope"in _&&i(20,n=_.$$scope)},l.$$.update=()=>{l.$$.dirty&11&&f&&(h.update(_=>r),h.update(_=>_==null?void 0:_.map(v=>{for(;v.code.length!=o;)v.code.length>o?v.code.pop():v.code.push(0);return v})))},[o,r,a,f,u,d,c,p,h,g,m,s,t,I,E,A,P,S,R,U,n]}class Wt extends ne{constructor(e){super(),ie(this,e,Ot,zt,le,{codeLength:0,riddle:1,contenteditable:3,base:2,showControls:4,fileSettings:5})}}const ae=l=>"0".repeat(l).split("").map(e=>({include:{},exclude:{}})),Ee=l=>l.reduce((e,i)=>({include:{...e.include,...i.include},exclude:{...e.exclude,...i.exclude}}));function Tt(l,e=10,i=!0){const t=l.map(f=>Rt(f,e)),n=l[0].code.length,s=[];function o(f=-1,a=ae(n)){for(const u of t[f+1]){const d=Vt(a,u);d&&(f+1==t.length-1?s.push(d):o(f+1,d))}}o();const r=s.map(f=>Dt(f,e)).filter(f=>f);return i?r:r.filter(f=>!f.some((a,u,d)=>d.indexOf(a)!=u))}function Dt(l,e=10){const i=s=>l.reduce((o,r)=>o+Object.keys(r.include).map(Math.floor).filter(f=>f==s).length,0),t=()=>l.flatMap(s=>Object.keys(s.include).map(Math.floor).filter(r=>i(r)==1)),n=()=>l.flatMap(s=>{const o=Object.keys(s.include).map(Math.floor);return o.length==1?o:[]});l.forEach(s=>{if(Object.keys(s.exclude).length==e-1)for(let o=0;o<e;o++)s.exclude[o]||(s.include[o]=!0)});for(let s=t(),o=n(),r=!0;r;s=t()){r=!1;for(const f of s)l.forEach(a=>{for(const u in a.include)u!=f&&a.include[f]&&(delete a.include[u],r=!0)});for(const f of o)l.forEach(a=>{Object.keys(a.include).length>1&&a.include[f]&&(delete a.include[f],r=!0)});o=n()}if(l.every(s=>Object.keys(s.include).length==1))return l.map(s=>Math.floor(Object.keys(s.include)[0]))}function Vt(l,e){const i=Nt(l,e),t=Ee(i),n=Ee(l),s=Ee(e);if([n,s].every(o=>Object.keys(o.include).every(r=>t.include[r])))return i}function Nt(l,e){const i=l.length,t=ae(i);for(let n=0;n<i;n++){t[n].include={...l[n].include,...e[n].include},t[n].exclude={...l[n].exclude,...e[n].exclude};for(const s in t[n].include)t[n].include[s]&&t[n].exclude[s]&&delete t[n].include[s]}return t}function Rt(l,e=10){const{code:i,included:t,sorted:n}=l,s=i.length;if(t>s)return[];if(t==0){const a=ae(s);for(const u of a)i.forEach(d=>u.exclude[d]=!0);return[a]}let o=[],r=0;for(let a=0;a<=s-t;a++){let u=[],d={};for(d[a]=i[a],u.push(d);Object.keys(u.slice(-1)[0]).length<t;){const p=[];for(const h of u){const g=Object.keys(h).length,m=Math.floor(Object.keys(h).sort((c,I)=>I-c)[0]);for(let c=m+1;c<=s-(t-g);c++){const I={...h};if(I[c]=i[c],p.push(I),r++,r>=1e3)return o}}u=p}o=o.concat(u)}const f=[];for(const a of o){if(n==0){const d=ae(s);for(const h in a)for(let g=0;g<s;g++)g==h?d[g].exclude[i[h]]=!0:d[g].include[i[h]]=!0;const p=i.filter(h=>!Object.values(a).includes(h));d.forEach(h=>{p.forEach(g=>{h.exclude[g]=!0})}),f.push(d);continue}const u=[...xe(Object.keys(a).map(d=>Math.floor(d)),n)];for(const d of u){const p=ae(s);for(const m of d)p[m].include[i[m]]=!0,"0".repeat(e).split("").map((c,I)=>I).filter(c=>c!=i[m]).forEach(c=>p[m].exclude[c]=!0);const h=Object.keys(a).map(Math.floor).filter(m=>!d.includes(m));for(const m of h)for(let c=0;c<s;c++)c==m?p[c].exclude[i[m]]=!0:d.includes(c)||(p[c].include[i[m]]=!0);const g=i.filter(m=>!Object.values(a).includes(m));p.forEach(m=>{g.forEach(c=>{m.exclude[c]=!0})}),f.push(p)}}return f}function*xe(l,e){for(let i=0;i<l.length;i++)if(e===1)yield[l[i]];else{const t=xe(l.slice(i+1,l.length),e-1);for(let n of t)yield[l[i],...n]}}const St=l=>l[Math.floor(Math.random()*l.length)],Bt=l=>l.sort((e,i)=>Math.random()<.5?-1:1);function At(l={}){let{solution:e,codeLength:i,maxHints:t,base:n,debug:s,maxTries:o}=l;s&&console.time("total"),i=i||3,t=t&&t>1?t:5,n=n||10,s=!!s,o=o||-1,(!e||i!=e.length)&&(e="0".repeat(i).split("").map(d=>Math.floor(Math.random()*n)));const r=e.filter((d,p,h)=>h.indexOf(d)==p).length,f=[];let a,u=0;s&&console.log(`solution: ${e.join(", ")} | maxIncluded: ${r}`);do{f.length>=t&&f.splice(0,f.length);const d=Math.floor(Math.random()*(r+1)),p=[];let h=d==i?Math.floor(Math.random()*(d-1)):Math.floor(Math.random()*(d+1));s&&console.log(`include ${d} sort ${h}`),s&&console.time("included");for(let m=0;m<d;m++){let c;do c=St(e);while(p.includes(c));p.push(c)}s&&console.timeEnd("included"),s&&console.time("nonincluded");for(let m=0;m<i-d;m++){let c;do c=Math.floor(Math.random()*n);while(e.includes(c));p.push(c)}s&&console.timeEnd("nonincluded");const g=()=>p.reduce((m,c)=>m+(e.indexOf(c)==p.indexOf(c)?1:0),0);for(s&&console.time("shuffle");g()!=h;)Bt(p);s&&console.timeEnd("shuffle"),f.push({code:p,included:d,sorted:h}),a=Tt(f,n),u++}while((a.length!=1||!a[0].every((d,p)=>e[p]==d))&&(o==-1||u<o));return s&&console.timeEnd("total"),f}const Ut=import.meta.url,qt=10;onmessage=l=>{const e=At({...l.data,maxTries:qt});e&&postMessage(e)};function Xt(l,e,i,t){if(window.Worker){delete i.riddle;for(let n=0;n<e;n++){const s=new Worker(new URL(Ut).href,{type:"module"});s.postMessage(l),s.onmessage=o=>{i.riddle||(i.riddle=o.data,t())}}}}export{Wt as R,Xt as g,Tt as s};
